pipeline 
{
   environment
   {
    registry = "skillassure/cmd-fe-hcl-dotnet2022"
    registryCredential = "Docker-Hub-Auth"
    dockerImage = ''
   }
 agent any
   stages
    {
       stage('Gitlab')
       {
          steps
          {
             git branch: 'dev', credentialsId: '1',
             url:'http://106.51.36.182:8095/skillassure-training/lob/fit/opteamix/tracks/devops/cmd-angular.git'
          }
       }
       stage('Build') 
       {
        steps 
          {
            echo 'Building..'
            sh 'clean'
          }
        }
       stage('Build dockerimage')
        {
         steps
         {
          echo "Building dockerimage"
          script
          {
           dockerImage = docker.buildregistry +":$BUILD_NUMBER"
          }
        }
      }
   }
}
